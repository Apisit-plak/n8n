# คำถามตัวอย่างสำหรับทดสอบ Workflow

## คำถามที่สามารถลองทดสอบได้

---

## 1. Invoice Detail (ดูรายละเอียด Invoice)

### คำถามที่ลองได้:
- `IV0303304`
- `IV1234567`
- `IV9999999`

**ผลลัพธ์ที่คาดหวัง:**
- แสดงรายละเอียด Invoice พร้อมรายการสินค้า
- แสดงข้อมูลลูกค้า, หน่วยงาน, เซลส์
- แสดงข้อมูลศูนย์/หน่วยงาน (จาก header - ศูนย์ใหญ่)
- แสดงข้อมูลศูนย์/หน่วยงาน (จาก line - ศูนย์ที่เก็บสินค้าแต่ละรายการ)
- แสดงยอดรวม, VAT, รวมสุทธิแต่ละรายการ
- แสดงข้อมูลเพิ่มเติม: วันที่สั่งซื้อ, วันที่จัดส่ง, วันครบกำหนด, วิธีการชำระเงิน

---

## 2. Customer Invoices (ดู Invoice ของลูกค้า)

### คำถามที่ลองได้:
- `การ์เดียนอินดัสทรีส์ invoice`
- `invoice อาปิโก ไฮเทค พาร์ทส์ จำกัด `
- `การ์เดียนอินดัสทรีส์ มี invoice อะไรบ้าง`
- `บิลของ การ์เดียนอินดัสทรีส์`
- `45-0096 invoice`

**ผลลัพธ์ที่คาดหวัง:**
- แสดงรายการ Invoice ทั้งหมดของลูกค้า
- เรียงตามวันที่ (ใหม่สุดก่อน)
- แสดงยอดรวมแต่ละ Invoice

---

## 3. Top Items (รายการยอดเยอะสุด)

### คำถามที่ลองได้ (ภาษาไทย):
- `รายการไหนยอดเยอะสุด`
- `สินค้าขายดีที่สุด`
- `อะไรขายดีที่สุด`
- `สินค้าอะไรขายดี`
- `รายการไหนยอดเยอะสุด`
- `อะไรที่ขายดีที่สุด`
- `สินค้าที่ขายดีที่สุด`
- `รายการที่ยอดเยอะสุด`
- `product ยอดเยอะสุด 3 เดือน`
- `รายการยอดมากสุดปีนี้`
- `TOP 10 สินค้า 6 เดือน`
- `10 รายการยอดเยอะสุด 2 เดือน`
- `5 อันดับสินค้าขายดี 1 ปี`
- `20 สินค้าขายดีที่สุด 3 เดือน`
- `สินค้าขายดีที่สุดปีที่แล้ว`
- `รายการยอดเยอะสุดเดือนนี้`
- `10 สินค้าขายดีเดือนนี้`
- `สินค้าทั้งหมดที่ขายดี` (limit: 100)

### คำถามที่ลองได้ (ภาษาอังกฤษ):
- `WHAT SELLS BEST`
- `BEST SELLING ITEMS`
- `TOP PRODUCTS`
- `TOP 10 ITEMS 6 MONTHS`
- `10 BEST SELLING PRODUCTS 2 MONTHS`
- `BEST SELLERS THIS YEAR`
- `HIGHEST SALES ITEMS 3 MONTHS`

**ผลลัพธ์ที่คาดหวัง:**
- แสดงรายการสินค้าที่มียอดขายเยอะสุด
- เรียงตามยอดขาย (มากไปน้อย)
- แสดงยอดรวม, VAT, รวมสุทธิ, จำนวน, จำนวน Invoice
- แสดงจำนวนศูนย์/หน่วยงานที่ขายสินค้านี้ (`department_count`)
- แสดงรายชื่อศูนย์/หน่วยงานที่ขายสินค้านี้มากที่สุด (`top_departments`)

---

## 4. Top Center (ศูนย์/หน่วยงานยอดขายเยอะสุด)

### คำถามที่ลองได้ (ภาษาไทย):
- `ศูนย์ไหนยอดขายเยอะสุด`
- `SBU ยอดเยอะสุดปีนี้`
- `หน่วยงานไหนขายดีที่สุด 6 เดือน`
- `สาขายอดเยอะสุด`
- `ศูนย์ไหนยอดขายเยอะสุดปีที่แล้ว`
- `SBU ยอดเยอะสุด 3 เดือน`
- `TOP 5 ศูนย์ยอดขาย 6 เดือน`
- `10 อันดับศูนย์ยอดขาย 1 ปี`
- `5 หน่วยงานยอดขายเยอะสุด 2 เดือน`
- `แผนกไหนยอดขายเยอะสุด`

### คำถามที่ลองได้ (ภาษาอังกฤษ):
- `BEST BRANCH SALES`
- `TOP CENTERS 6 MONTHS`
- `TOP 10 DEPARTMENTS 1 YEAR`
- `HIGHEST SALES BRANCHES 3 MONTHS`
- `BEST PERFORMING CENTERS`

**ผลลัพธ์ที่คาดหวัง:**
- แสดงศูนย์/หน่วยงานที่มียอดขายเยอะสุด
- เรียงตามยอดขาย (มากไปน้อย)
- แสดงจำนวน Invoice, จำนวนสินค้า, ยอดรวม, VAT, รวมสุทธิ, ยอดเฉลี่ย
- แสดงวันที่ Invoice แรกและล่าสุด
- แสดงตัวอย่าง Invoice numbers ที่ศูนย์นี้มี (`sample_invoices`)
- รองรับ limit (เช่น TOP 5, 10 อันดับ)

---

## 5. Monthly Sales (ยอด Invoice แต่ละเดือน)

### คำถามที่ลองได้:
- `ยอด invoice แต่ละเดือน`
- `ยอดขายรายเดือนปีนี้`
- `monthly sales 2024`
- `ยอดรายเดือน 6 เดือน`
- `ยอด invoice แต่ละเดือนปีที่แล้ว`
- `ยอดขายรายเดือน 12 เดือน`

**ผลลัพธ์ที่คาดหวัง:**
- แสดงยอดขายแยกตามเดือน
- เรียงตามเดือน (ใหม่สุดก่อน)
- แสดงจำนวน Invoice, ยอดรวม, ยอดเฉลี่ย, ยอดต่ำสุด, ยอดสูงสุด

---

## 5.5. Item Centers (สินค้า XXX ขายได้ศูนย์ไหนบ้าง)

### คำถามที่ลองได้ (ภาษาไทย):
- `สินค้า MC-1002 ขายได้ศูนย์ไหนบ้าง` (แสดง 10 ศูนย์ - default)
- `MC-AP-1001 ขายได้หน่วยไหน TOP 5` (แสดง 5 ศูนย์)
- `product MC-1002 มีศูนย์ไหนขายบ้าง 20 ศูนย์` (แสดง 20 ศูนย์)
- `สินค้า MC-1002 ขายได้ที่ไหนบ้าง แสดง 15` (แสดง 15 ศูนย์)
- `MC-AP-1001 ขายที่ศูนย์ไหนปีนี้ จำนวน 20` (แสดง 20 ศูนย์ + ปีนี้)
- `product MC-1002 ขายได้ที่ไหน 20 ตัว` (แสดง 20 ศูนย์)
- `MC-1002 ขายได้ SBU ไหน 6 เดือน TOP 3` (แสดง 3 ศูนย์ + 6 เดือน)
- `สินค้า MC-1002 ขายที่หน่วยงานไหนปีที่แล้ว ทั้งหมด` (แสดงทุกศูนย์)

### คำถามที่ลองได้ (ภาษาอังกฤษ):
- `PRODUCT MC-1002 WHICH CENTERS`
- `MC-AP-1001 WHICH BRANCH`
- `ITEM MC-1002 WHERE`
- `MC-1002 SOLD WHERE`

**ผลลัพธ์ที่คาดหวัง:**
- แสดงข้อมูลสินค้า (รหัส + คำอธิบาย)
- แสดงรายการศูนย์/หน่วยงานทั้งหมดที่ขายสินค้านี้
- เรียงตามยอดขาย (มากไปน้อย)
- แสดงยอดรวม, จำนวนสินค้า, จำนวน Invoice, ยอดเฉลี่ย
- แสดงช่วงเวลา (วันที่ Invoice แรกและล่าสุด)
- แสดงสรุปรวม (จำนวนศูนย์, ยอดรวมทั้งหมด, จำนวนสินค้าทั้งหมด, Invoice รวม)
- แสดงตัวอย่าง Invoice numbers (จากศูนย์ที่ขายเยอะสุด)
- แสดง contextual suggestions

**หมายเหตุ:**
- ต้องมีรหัสสินค้าในคำถาม (เช่น MC-1002, MC-AP-1001)
- รองรับ time period (เช่น "6 เดือน", "ปีนี้")
- ถ้าไม่มีข้อมูลจะแสดงข้อความ "ไม่พบข้อมูลสินค้านี้" พร้อมคำแนะนำ

---

## 6. Product Group Sales (Product แยกตามกลุ่ม) - รองรับ 6 แบบ!

### 6.1 แยกตาม Group 1-9 (Default):
- `product แยกตามกลุ่ม` (แสดง 50 กลุ่ม - default)
- `ยอดขายสินค้าแต่ละกลุ่ม TOP 5` (แสดง 5 กลุ่ม)
- `สินค้า group ยอดขาย 6 เดือน 10 กลุ่ม` (แสดง 10 กลุ่ม)
- `product แยกตามกลุ่มปีนี้ แสดง 20` (แสดง 20 กลุ่ม)

### 6.2 แยกตาม Brand (ยี่ห้อ):
- `product แยกตาม brand` (แสดง 50 brand)
- `TOP 5 brand 6 เดือน` (แสดง 5 brand)
- `ยอดขายแต่ละยี่ห้อ 10 ยี่ห้อ` (แสดง 10 brand)
- `สินค้าแบรนด์ไหนขายดีที่สุด แสดง 15` (แสดง 15 brand)

### 6.3 แยกตาม Category/IR Code (หมวดหมู่):
- `product แยกตาม category` (แสดง 50 category)
- `TOP 10 category ปีนี้` (แสดง 10 category)
- `หมวดหมู่ไหนขายดีที่สุด 6 เดือน 5 หมวด` (แสดง 5 category)
- `ยอดขาย ir code 20 อันดับแรก` (แสดง 20 category)

### 6.4 แยกตาม Prefix/Series:
- `product แยกตาม prefix` (แสดง 50 series)
- `TOP 5 series` (แสดง 5 series)
- `MC series กับ AP series เทียบกัน` (แสดง 50 series)
- `ยอดขาย series ต่างๆ 10 series` (แสดง 10 series)

### 6.5 แยกตาม Item Type (ประเภท):
- `product แยกตามประเภท` (แสดงทุกประเภท)
- `สินค้ากับบริการขายได้เท่าไหร่` (แสดงทุกประเภท)
- `ยอดขายแต่ละประเภทปีนี้` (แสดงทุกประเภท)

### 6.6 แยกตาม Department (ศูนย์):
- `product แยกตามศูนย์` (แสดง 50 ศูนย์)
- `TOP 10 ศูนย์ขายสินค้าอะไรบ้าง` (แสดง 10 ศูนย์)
- `ยอดขายแต่ละหน่วยงาน 6 เดือน 20 ศูนย์` (แสดง 20 ศูนย์)

**ผลลัพธ์ที่คาดหวัง:**
- แสดงยอดขายตามประเภทการจัดกลุ่มที่เลือก
- เรียงตามยอดขาย (มากไปน้อย)
- แสดงจำนวนสินค้า, จำนวน Invoice, ยอดรวม, VAT, รวมสุทธิ
- แสดง % ของแต่ละกลุ่ม
- แสดง contextual suggestions ตามกลุ่มอันดับ 1

---

## 7. Sales Performance (ยอดขายของเซลส์)

### คำถามที่ลองได้ (ภาษาไทย):
- `TOP 10 เซลส์ยอดเยอะสุด` (แสดง 10 คน)
- `TOP 5 เซลส์ปีนี้` (แสดง 5 คน ปีนี้)
- `เซลส์ไหนขายดีที่สุด 6 เดือน` (แสดง 10 คน ช่วง 6 เดือน)
- `TOP 10 เซลส์ 1 ปี` (แสดง 10 คน ช่วง 1 ปี)
- `เซลส์ทั้งหมดขายได้เท่าไหร่` (แสดงทุกคน)

### คำถามที่ลองได้ (ค้นหาเซลส์คนใดคนหนึ่ง):
- `เซลส์ สมชาย มี invoice เท่าไหร่`
- `เซลส์ สมศักดิ์ ขายได้เท่าไหร่`
- `เซลส์ วันชัย ยอดขายปีนี้`
- `เซลส์ สุรชัย ขายได้เท่าไหร่ 6 เดือน`

### คำถามที่ลองได้ (ภาษาอังกฤษ):
- `TOP 10 SALES PERFORMANCE`
- `BEST SALES 6 MONTHS`
- `TOP 5 SALESPERSON THIS YEAR`

**ผลลัพธ์ที่คาดหวัง:**
- แสดงรายชื่อเซลส์พร้อมยอดขาย
- เรียงตามยอดขาย (มากไปน้อย)
- แสดงจำนวน Invoice, จำนวนลูกค้า, จำนวนสินค้า
- แสดงยอดรวม, ยอดเฉลี่ย, ช่วงเวลา
- แสดงตัวอย่างลูกค้า (อันดับ 1-3)
- แสดง % ของแต่ละคน
- แสดง contextual suggestions

**หมายเหตุ:**
- Default: แสดง 10 คน
- รองรับ time period (เช่น "6 เดือน", "ปีนี้")
- สามารถค้นหาตามชื่อเซลส์ได้
- ถ้าไม่มีข้อมูลจะแสดงข้อความ "ไม่พบข้อมูลเซลส์" พร้อมคำแนะนำ

---

## 8. Error Cases (กรณีผิดพลาด)

### Missing Name (ไม่มีชื่อลูกค้า):
- `invoice` (ไม่มีชื่อลูกค้า)
- `INVOICE` (ไม่มีชื่อลูกค้า)
- `บิล` (ไม่มีชื่อลูกค้า)
- `BILL` (ไม่มีชื่อลูกค้า)
- `ใบแจ้งหนี้` (ไม่มีชื่อลูกค้า)

**ผลลัพธ์ที่คาดหวัง:**
- แสดงข้อความ: "กรุณาพิมพ์ชื่อลูกค้าตามด้วยคำว่า invoice เช่น:
  - การ์เดียนอินดัสทรีส์ invoice
  - invoice การ์เดียนอินดัสทรีส์
  - ดู invoice ของ การ์เดียนอินดัสทรีส์
  - การ์เดียนอินดัสทรีส์ มี invoice อะไรบ้าง"

---

### คำถามที่ลองได้ (Unknown):
- `สวัสดี`
- `hello`
- `ทดสอบ`
- `12345`
- `help`

**ผลลัพธ์ที่คาดหวัง:**
- แสดงข้อความช่วยเหลือพร้อมตัวอย่างคำถาม

---

## สรุปคำถามที่แนะนำให้ลอง

### สำหรับทดสอบเบื้องต้น:

1. **Invoice Detail:**
   ```
   IV0303304
   ```
   - ตรวจสอบ: แสดงข้อมูลศูนย์/หน่วยงานทั้งจาก header และ line

2. **Customer Invoices:**
   ```
   การ์เดียนอินดัสทรีส์ invoice
   ```
   - ตรวจสอบ: แสดงรายการ Invoice ทั้งหมดของลูกค้า

3. **Top Items (แบบธรรมชาติ):**
   ```
   อะไรขายดีที่สุด 6 เดือน
   ```
   - ตรวจสอบ: แสดงสินค้าขายดี พร้อมข้อมูลศูนย์/หน่วยงาน

4. **Top Items (แบบระบุจำนวน):**
   ```
   TOP 10 สินค้า 2 เดือน
   ```
   - ตรวจสอบ: แสดง 10 สินค้าขายดี พร้อมข้อมูลศูนย์/หน่วยงาน

5. **Top Center (แบบไม่ระบุจำนวน):**
   ```
   ศูนย์ไหนยอดขายเยอะสุดปีนี้
   ```
   - ตรวจสอบ: แสดงศูนย์ยอดขายเยอะสุด พร้อมตัวอย่าง Invoice numbers

6. **Top Center (แบบระบุจำนวน):**
   ```
   TOP 5 ศูนย์ยอดขาย 6 เดือน
   ```
   - ตรวจสอบ: แสดง 5 ศูนย์ยอดขายเยอะสุด พร้อมจำนวนสินค้า

7. **Monthly Sales:**
   ```
   ยอด invoice แต่ละเดือน
   ```
   - ตรวจสอบ: แสดงยอดขายรายเดือน

8. **Item Centers (สินค้าขายได้ศูนย์ไหน):**
   ```
   สินค้า MC-1002 ขายได้ศูนย์ไหนบ้าง
   ```
   - ตรวจสอบ: แสดงศูนย์/หน่วยงานที่ขายสินค้านี้

9. **Product Group Sales:**
   ```
   product แยกตามกลุ่ม 1 ปี
   ```
   - ตรวจสอบ: แสดงยอดขายแยกตามกลุ่มสินค้า

10. **Sales Performance (ยอดขายเซลส์):**
    ```
    TOP 10 เซลส์ยอดเยอะสุด
    ```
    - ตรวจสอบ: แสดงยอดขายของเซลส์แต่ละคน

11. **Error - Missing Name:**
    ```
    invoice
    ```
    - ตรวจสอบ: แสดงข้อความช่วยเหลือ

12. **Error - Unknown:**
    ```
    สวัสดี
    ```
    - ตรวจสอบ: แสดงข้อความช่วยเหลือพร้อมตัวอย่างคำถาม

---

## วิธีทดสอบ

1. **เปิดหน้าแชท:** `http://localhost:3000`
2. **พิมพ์คำถาม** ตามตัวอย่างด้านบน
3. **ตรวจสอบผลลัพธ์:**
   - ดูว่า workflow ทำงานถูกต้องหรือไม่
   - ดูว่า response ถูกต้องหรือไม่
   - ตรวจสอบ log ใน n8n execution history

---

## หมายเหตุ

- **Invoice Number:** ต้องใช้ format `IV` + 7 หลัก (เช่น `IV0303304`)
- **Customer Name:** สามารถใช้ชื่อลูกค้าเต็มหรือบางส่วนได้
- **Time Period:** สามารถระบุระยะเวลาได้หลายรูปแบบ เช่น `6 เดือน`, `1 ปี`, `2 เดือน`, `ปีนี้`, `เดือนนี้`
- **Limit:** สามารถระบุจำนวนได้หลายรูปแบบ เช่น `TOP 10`, `10 รายการ`, `10 อันดับ`, `10 สินค้า`
- **Case Insensitive:** ไม่สนใจตัวพิมพ์เล็ก-ใหญ่
- **Natural Language:** รองรับคำถามแบบธรรมชาติ เช่น `อะไรขายดีที่สุด`, `สินค้าอะไรขายดี`
- **Department Info:** แสดงข้อมูลศูนย์/หน่วยงานทั้งจาก header (ศูนย์ใหญ่) และ line (ศูนย์ที่เก็บสินค้าแต่ละรายการ)
- **All Items:** ถ้ามีคำว่า `ทั้งหมด`, `ALL`, `ทุก`, `EVERY` จะใช้ limit: 100

---

## Tips สำหรับการทดสอบ

1. **เริ่มจากคำถามง่ายๆ:** เช่น `IV0303304` หรือ `การ์เดียนอินดัสทรีส์ invoice`
2. **ทดสอบทีละ action:** ตรวจสอบว่าแต่ละ action ทำงานถูกต้อง
3. **ทดสอบ error cases:** ตรวจสอบว่า error handling ทำงานถูกต้อง
4. **ตรวจสอบ log:** ดู execution history ใน n8n เพื่อ debug
5. **ทดสอบ time_period:** ลองใช้ระยะเวลาต่างๆ เช่น `3 เดือน`, `ปีนี้`, `ปีที่แล้ว`, `6 เดือน`, `1 ปี`, `2 เดือน`
6. **ทดสอบ limit:** ลองใช้จำนวนต่างๆ เช่น `TOP 10`, `10 รายการ`, `5 อันดับ`, `20 สินค้า`
7. **ทดสอบคำถามแบบธรรมชาติ:** เช่น `อะไรขายดีที่สุด`, `สินค้าอะไรขายดี`, `รายการไหนยอดเยอะสุด`
8. **ทดสอบทั้งภาษาไทยและอังกฤษ:** เช่น `TOP 10 PRODUCTS`, `BEST SELLING ITEMS`
9. **ตรวจสอบข้อมูลศูนย์/หน่วยงาน:** ตรวจสอบว่าแสดงข้อมูลศูนย์/หน่วยงานถูกต้อง
10. **ตรวจสอบข้อมูลเพิ่มเติม:** ตรวจสอบว่าแสดงข้อมูลเพิ่มเติม (เช่น ตัวอย่าง Invoice numbers) ถูกต้อง
