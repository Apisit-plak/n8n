# Chat Interface ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö n8n

‡πÅ‡∏≠‡∏õ‡∏û‡∏•‡∏¥‡πÄ‡∏Ñ‡∏ä‡∏±‡∏ô‡πÅ‡∏ä‡∏ó‡∏ó‡∏µ‡πà‡∏£‡∏±‡∏ö‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡∏à‡∏≤‡∏Å‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ ‡∏™‡πà‡∏á‡πÑ‡∏õ‡∏ó‡∏µ‡πà n8n ‡πÅ‡∏•‡∏∞‡πÅ‡∏™‡∏î‡∏á‡∏ú‡∏•‡∏ï‡∏≠‡∏ö‡∏Å‡∏•‡∏±‡∏ö

## ‡∏Ñ‡∏∏‡∏ì‡∏™‡∏°‡∏ö‡∏±‡∏ï‡∏¥

- üí¨ ‡∏´‡∏ô‡πâ‡∏≤‡∏à‡∏≠‡πÅ‡∏ä‡∏ó‡∏ó‡∏µ‡πà‡∏™‡∏ß‡∏¢‡∏á‡∏≤‡∏°‡πÅ‡∏•‡∏∞‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡∏á‡πà‡∏≤‡∏¢
- üîÑ ‡∏™‡πà‡∏á‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡πÑ‡∏õ‡∏ó‡∏µ‡πà n8n webhook
- üì® ‡∏£‡∏±‡∏ö‡πÅ‡∏•‡∏∞‡πÅ‡∏™‡∏î‡∏á‡∏ú‡∏•‡∏ï‡∏≠‡∏ö‡∏Å‡∏•‡∏±‡∏ö‡∏à‡∏≤‡∏Å n8n
- ‚ö° Real-time messaging
- üé® UI ‡∏ó‡∏µ‡πà‡∏ó‡∏±‡∏ô‡∏™‡∏°‡∏±‡∏¢‡πÅ‡∏•‡∏∞ responsive
- üåê ‡πÉ‡∏ä‡πâ Nginx ‡πÄ‡∏õ‡πá‡∏ô reverse proxy ‡πÅ‡∏•‡∏∞ serve static files

## ‡∏Å‡∏≤‡∏£‡∏ï‡∏¥‡∏î‡∏ï‡∏±‡πâ‡∏á (‡πÑ‡∏°‡πà‡πÉ‡∏ä‡πâ Docker)

1. ‡∏ï‡∏¥‡∏î‡∏ï‡∏±‡πâ‡∏á dependencies:
```bash
npm install
```

2. ‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤ n8n webhook URL:
   - ‡πÄ‡∏õ‡∏¥‡∏î‡πÑ‡∏ü‡∏•‡πå `server.js`
   - ‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç `N8N_WEBHOOK_URL` ‡πÉ‡∏´‡πâ‡πÄ‡∏õ‡πá‡∏ô URL ‡∏Ç‡∏≠‡∏á n8n webhook ‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì
   - ‡∏´‡∏£‡∏∑‡∏≠‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤‡∏ú‡πà‡∏≤‡∏ô environment variable:
   ```bash
   set N8N_WEBHOOK_URL=http://localhost:5678/webhook/your-webhook-id
   ```

3. ‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô‡πÄ‡∏ã‡∏¥‡∏£‡πå‡∏ü‡πÄ‡∏ß‡∏≠‡∏£‡πå:
```bash
npm start
```

‡∏´‡∏£‡∏∑‡∏≠‡πÉ‡∏ä‡πâ nodemon ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö development:
```bash
npm run dev
```

4. ‡πÄ‡∏õ‡∏¥‡∏î‡πÄ‡∏ö‡∏£‡∏≤‡∏ß‡πå‡πÄ‡∏ã‡∏≠‡∏£‡πå‡πÑ‡∏õ‡∏ó‡∏µ‡πà:
```
http://localhost:3000
```

## ‡∏Å‡∏≤‡∏£‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤ n8n Workflow

‡∏î‡∏π‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏ï‡∏¥‡∏°‡πÉ‡∏ô [N8N_SETUP.md](N8N_SETUP.md)

### ‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏û‡∏∑‡πâ‡∏ô‡∏ê‡∏≤‡∏ô:

1. ‡∏™‡∏£‡πâ‡∏≤‡∏á workflow ‡πÉ‡∏´‡∏°‡πà‡πÉ‡∏ô n8n
2. ‡πÄ‡∏û‡∏¥‡πà‡∏° **Webhook** node ‡πÄ‡∏õ‡πá‡∏ô trigger
   - HTTP Method: `POST`
   - Path: `/webhook-test/plak` (‡∏´‡∏£‡∏∑‡∏≠ path ‡∏ó‡∏µ‡πà‡∏Ñ‡∏∏‡∏ì‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£)
   - Fields to Set:
     - `text` (String) - ‡∏£‡∏±‡∏ö‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡∏à‡∏≤‡∏Å‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ
     - `session_id` (String) - ‡∏£‡∏±‡∏ö session ID
3. ‡πÄ‡∏û‡∏¥‡πà‡∏° nodes ‡∏≠‡∏∑‡πà‡∏ô‡πÜ ‡∏ï‡∏≤‡∏°‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£ (‡πÄ‡∏ä‡πà‡∏ô Function, AI, HTTP Request, etc.)
4. ‡πÄ‡∏û‡∏¥‡πà‡∏° **Respond to Webhook** node ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏™‡πà‡∏á response ‡∏Å‡∏•‡∏±‡∏ö
   - Response Body: 
     ```json
     {
       "response": "‡∏Ñ‡∏≥‡∏ï‡∏≠‡∏ö‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì"
     }
     ```
   ‡∏´‡∏£‡∏∑‡∏≠‡∏™‡πà‡∏á‡πÄ‡∏õ‡πá‡∏ô string ‡∏Å‡πá‡πÑ‡∏î‡πâ
5. **Activate** workflow (‡πÄ‡∏õ‡∏¥‡∏î‡∏™‡∏ß‡∏¥‡∏ï‡∏ä‡πå‡∏ó‡∏µ‡πà‡∏°‡∏∏‡∏°‡∏ö‡∏ô‡∏Ç‡∏ß‡∏≤)
6. ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ß‡πà‡∏≤ webhook URL ‡∏ï‡∏£‡∏á‡∏Å‡∏±‡∏ö‡∏ó‡∏µ‡πà‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤‡πÉ‡∏ô `server.js`

## ‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á n8n Workflow Response

n8n ‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏™‡πà‡∏á response ‡∏Å‡∏•‡∏±‡∏ö‡∏°‡∏≤‡πÉ‡∏ô‡∏£‡∏π‡∏õ‡πÅ‡∏ö‡∏ö‡∏ï‡πà‡∏≤‡∏á‡πÜ:

- **String**: `"Hello from n8n"`
- **Object**: `{ "response": "Hello from n8n" }`
- **Object with message**: `{ "message": "Hello from n8n" }`
- **Array**: `[{ "text": "Hello" }]`

‡πÅ‡∏≠‡∏õ‡∏à‡∏∞‡∏û‡∏¢‡∏≤‡∏¢‡∏≤‡∏°‡∏î‡∏∂‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏à‡∏≤‡∏Å response ‡∏´‡∏•‡∏≤‡∏¢‡∏£‡∏π‡∏õ‡πÅ‡∏ö‡∏ö

## Environment Variables

### Chat Server
- `PORT`: Port ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡πÄ‡∏ã‡∏¥‡∏£‡πå‡∏ü‡πÄ‡∏ß‡∏≠‡∏£‡πå (default: 3000)
- `N8N_WEBHOOK_URL`: URL ‡∏Ç‡∏≠‡∏á n8n webhook (‡πÄ‡∏ä‡πà‡∏ô http://localhost:5678/webhook/chat)

### n8n
- `N8N_BASIC_AUTH_USER`: Username ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö n8n (‡∏ñ‡πâ‡∏≤‡πÄ‡∏õ‡∏¥‡∏î Basic Auth)
- `N8N_BASIC_AUTH_PASSWORD`: Password ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö n8n (‡∏ñ‡πâ‡∏≤‡πÄ‡∏õ‡∏¥‡∏î Basic Auth)
- `WEBHOOK_URL`: Base URL ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö webhooks (‡∏ï‡∏±‡πâ‡∏á‡∏ï‡∏≤‡∏°‡πÇ‡∏î‡πÄ‡∏°‡∏ô/‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì)

## ‡πÇ‡∏Ñ‡∏£‡∏á‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÑ‡∏ü‡∏•‡πå

```
.
‚îú‚îÄ‚îÄ index.html                      # ‡∏´‡∏ô‡πâ‡∏≤‡πÅ‡∏ä‡∏ó UI
‚îú‚îÄ‚îÄ server.js                       # Express server (API only)
‚îú‚îÄ‚îÄ package.json                    # Dependencies
‚îú‚îÄ‚îÄ nginx.conf                      # Nginx configuration (‡∏ñ‡πâ‡∏≤‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ reverse proxy ‡πÄ‡∏≠‡∏á)
‚îî‚îÄ‚îÄ README.md                       # ‡πÄ‡∏≠‡∏Å‡∏™‡∏≤‡∏£‡∏ô‡∏µ‡πâ
```

## ‡∏Å‡∏≤‡∏£‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡∏õ‡∏±‡∏ç‡∏´‡∏≤ (‡πÑ‡∏°‡πà‡πÉ‡∏ä‡πâ Docker)

### ‡πÑ‡∏°‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏ï‡πà‡∏≠‡∏Å‡∏±‡∏ö n8n ‡πÑ‡∏î‡πâ
- ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ß‡πà‡∏≤ n8n ‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡∏≠‡∏¢‡∏π‡πà‡πÅ‡∏•‡∏∞‡πÄ‡∏Ç‡πâ‡∏≤‡∏ñ‡∏∂‡∏á‡πÑ‡∏î‡πâ‡∏à‡∏≤‡∏Å browser
- ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ß‡πà‡∏≤ webhook URL ‡πÉ‡∏ô `server.js` ‡∏´‡∏£‡∏∑‡∏≠ `N8N_WEBHOOK_URL` ‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á
- ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ß‡πà‡∏≤ n8n workflow ‡∏ñ‡∏π‡∏Å activate ‡πÅ‡∏•‡πâ‡∏ß
- ‡∏î‡∏π logs ‡∏Ç‡∏≠‡∏á n8n ‡πÅ‡∏•‡∏∞ `server.js` ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö error

### ‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡∏£‡∏±‡∏ö response ‡∏à‡∏≤‡∏Å n8n
- ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ß‡πà‡∏≤ n8n workflow ‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á‡πÅ‡∏•‡∏∞‡∏°‡∏µ‡∏Å‡∏≤‡∏£‡∏™‡πà‡∏á response ‡∏Å‡∏•‡∏±‡∏ö
- ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ß‡πà‡∏≤ field ‡πÉ‡∏ô response ‡∏ï‡∏£‡∏á‡∏Å‡∏±‡∏ö‡∏ó‡∏µ‡πà frontend ‡∏£‡∏≠‡∏á‡∏£‡∏±‡∏ö (`response` ‡∏´‡∏£‡∏∑‡∏≠ `reply`)
- ‡∏•‡∏≠‡∏á‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡∏¢‡∏¥‡∏á request ‡∏ï‡∏£‡∏á‡πÑ‡∏õ‡∏ó‡∏µ‡πà webhook ‡∏Ç‡∏≠‡∏á n8n ‡∏î‡πâ‡∏ß‡∏¢ Postman ‡∏´‡∏£‡∏∑‡∏≠ curl

### Port ‡∏ñ‡∏π‡∏Å‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡πÅ‡∏•‡πâ‡∏ß
- ‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡∏Ñ‡πà‡∏≤ `PORT` ‡πÉ‡∏ô environment variable ‡∏´‡∏£‡∏∑‡∏≠‡πÉ‡∏ô‡πÇ‡∏Ñ‡πâ‡∏î `server.js`
- ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ß‡πà‡∏≤‡πÑ‡∏°‡πà‡∏°‡∏µ‡πÇ‡∏õ‡∏£‡πÄ‡∏ã‡∏™‡∏≠‡∏∑‡πà‡∏ô‡πÉ‡∏ä‡πâ port ‡πÄ‡∏î‡∏µ‡∏¢‡∏ß‡∏Å‡∏±‡∏ô‡∏≠‡∏¢‡∏π‡πà

## License

MIT
